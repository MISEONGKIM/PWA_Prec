# PWA

- Progressive Web Application
- 웹과 네이티브 앱의 장점을 결합한 웹 기술
- 네이티브 앱과 유사한 사용자 경험을 제공하는 웹 애플리케이션이다.
- 일반 웹 사이트와 같이 웹에서 실행되지만 앱처럼 사용이 가능함.

## PWA 대표기능

- PUSH 알림
- 오프라인 환경
- 홈 화면에 추가

## PWA의 요건

- 3가지의 요건을 필수적으로 만족해야 함.

1. HTTPS
   - PWA는 보안이 연결된, 즉 신뢰할 수 있는 사이트에서만 동작하기 때문에 웹 페이지는 HTTPS 도메인에서 제공되어야 한다.
2. Service Worker(서비스 워커)
   - 백그라운드에서 실행되는 Javascript 파일 형태의 스크립트이다. 오프라인 환경에서도 웹이 작동할 수 있도록 네트워크 요청을 가로채서 네트워크 불량 상태 등 접속성이 안 좋은 상황을 커버한다.
   - 서비스 워커는 네트워크 요청을 중간에 가로챌 수 있다는 점에서 중간자 공격에 취약하기 때문에 보안이 강화된 HTTPS에서만 작동한다. 이는 PWA를 만들기 위해서 HTTPS 연결을 해야 하는 또 다른 이유가 된다!
3. Manifest(매니페스트)
   - PWA에 대해 브라우저에 알려주고 사용자의 데스크탑이나 모바일 디바이스에 설치할 때 어떻게 작동해야 하는지 알려주는 JSON파일이다.
   - manifest파일에는 웹 페이지의 url과 웹의 이름, 화면 표시 방식 등 기능과 표시 방법에 대한 정보들이 포함된다.

## 좋은 PWA를 만들기 위한 Checklist

https://web.dev/i18n/ko/pwa-checklist/

### 핵심 체크리스트(Core checklist)

디바이스의 크기와 입력 유형에 상관없이 모든 사용자가 앱을 설치하고 사용할 수 있는 지에 대한 체크리스트

- 앱은 빠르게 로드되고, 빠르게 유지되어야한다.
- PWA는 모든 브라우저에서 작동해야 한다.
- 모든 화면 크기에 대응해야 한다. 화면 크기에 상관없이 콘텐츠가 표시되어야 하며 모든 기능을 사용할 수 있어야 한다.
- 오프라인 환경에서는 브라우저의 기본 오프라인 페이지가 아닌 맞춤형 오프라인 페이지를 제공한다.
- 설치가 가능해야 한다.

### 최적의 체크리스트(Optimal checklist)

PWA가 실행 중인 장치의 일부인 것처럼 느끼게 하는 체크리스트

- 연결이 절대적으로 필요하지 않은 경우에도 앱은 오프라인에서도 온라인과 동일하게 작동합니다.

- 모든 사용자 상호작용이 WCAG 2.0 접근성 요구사항을 충족합니다.

  - WCAG 2.0 : 웹 콘텐츠 접근성(Web Content Accessibility Guidelines) 버전 2.0 가이드라인
    1.  인식 가능성(Perceivable): 사용자는 제공되는 콘텐츠를 인지할 수 있어야 합니다.
        - 대체 텍스트 제공(이미지요소 대체 텍스트)
        - 멀티미디어 대체 수단(오디오,비디오 등 콘텐츠 대체수단)
        - 색에 의존하지 않음
    2.  운용 가능성(Operable): 사용자는 콘텐츠와 상호 작용할 수 있어야 합니다.
        - 키보드 접근성(모든 기능 키보드만으로 이용 가능)
        - 충분한 시간 제공(제한 시간 내에 콘텐츠 읽고 사용하도록 충분한 시간 제공)
        - 발작 예방(발작 일으키는 콘텐츠 피함)
    3.  이해 가능성(Understandable): 사용자는 콘텐츠의 이해와 사용에 어려움을 겪지 않아야 합니다.
        - 가독성(텍스트 읽고 이해하기 쉽게)
        - 예측 가능성(콘텐츠의 동작을 예측할 수 있어야함)
        - 도움말과 지원
    4.  견고성(Robust): 콘텐츠는 다양한 기술과 플랫폼에서 견고하게 동작해야 합니다.
        - 웹 표준 준수

- PWA가 검색을 통해 쉽게 발견될 수 있도록 해야 합니다.

- 마우스, 키보드, 스타일러스, 터치 등 모든 입력 방식으로 PWA를 동일하게 사용할 수 있어야 합니다.

- 강력한 API 사용에 대한 허가를 요청할 때는 문맥을 제공하고 API가 필요한 시점에만 요청해야 합니다.

- 건전한 코드베이스를 보장, 알려진 취약점이 있는 라이브러리 사용 방지, 사용되지 않는 API를 사용하지 않는지 확인, 코드베이스에서 웹 안티 패턴 제거 등

## 우리가 만든 웹이 PWA의 요건을 충족하는 지 확인하는 방법

1. Lighthouse

   - Chrome DevTools에서 제공하는 Lighthouse를 사용
   - 웹 페이지의 품질을 개선하기 위한 자동 오픈소스 도구로 성능, 접근성, PWA, SEO 등에 대한 검사를 진행할 수 있다.

   * 검사 진행하면 Progressive Web App 나오는 데 클릭하면 어떤게 충족하지 않았는 지 상세하게 설명되어 있음.

2. PWA Builder
   - https://www.pwabuilder.com/
   - PWA의 3가지 요건을 만족하는지에 대한 점수를 매기고 Manifest와 Service Worker를 쉽게 작성할 수 있도록 도와줌.
